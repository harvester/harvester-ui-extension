(("undefined"!==typeof self?self:this)["webpackChunkharvester_1_6_0_rc2"]=("undefined"!==typeof self?self:this)["webpackChunkharvester_1_6_0_rc2"]||[]).push([[25],{87964:function(e,t,a){"use strict";a.d(t,{F:function(){return l},Y:function(){return n}});var r=a(95457),s=a(9274),o=a(37069),c=a(65359);const n=e=>{const t=(0,o.lq)(),a=(0,c.Pj)(),r=(0,s.toValue)(e),n=(0,s.computed)((()=>t.params.namespace?`${t.params.namespace}/${t.params.id}`:`${t.params.id}`)),l=(0,s.computed)((()=>a.getters["cluster/schemaFor"](r))),u=(0,s.computed)((()=>t.params.cluster));return{clusterId:u.value,id:n.value,schema:l.value}},l=async(e,t)=>{const a=(0,c.Pj)(),o=(0,r.s)(a),n=(0,s.toValue)(e),l=(0,s.toValue)(t);try{return await a.dispatch("cluster/find",{type:n,id:l})}catch(u){404!==u.status&&403!==u.status||a.dispatch("loadingError",new Error(o.t("nav.failWhale.resourceIdNotFound",{resource:e,fqid:t},!0)))}}},83664:function(e,t,a){"use strict";a.d(t,{A:function(){return p}});var r=a(9274);const s={class:"resource-detail-page"},o={key:0,class:"top-area"},c={key:1,class:"middle-area mmt-6"},n={key:2,class:"bottom-area mmt-6"};function l(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",s,[e.$slots["top-area"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",o,[(0,r.renderSlot)(e.$slots,"top-area",{},void 0,!0)])):(0,r.createCommentVNode)("",!0),e.$slots["middle-area"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",c,[(0,r.renderSlot)(e.$slots,"middle-area",{},void 0,!0)])):(0,r.createCommentVNode)("",!0),e.$slots["bottom-area"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.renderSlot)(e.$slots,"bottom-area",{},void 0,!0)])):(0,r.createCommentVNode)("",!0)])}a(49627);var u=a(47433);const d={},i=(0,u.A)(d,[["render",l],["__scopeId","data-v-813e316a"]]);var p=i},27025:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ge}});var r=a(9274),s=a(83664),o=a(23190),c=a(5694),n=a(20568),l=a(22579),u=a(35664),d=a(87964),i=a(37389),p=a(49584),m=a(67243),v=a(95457),k=a(65359);const f={class:"secret-data-tab-basic"},b={key:0},h={class:"m-20 text-center no-rows"};var y=(0,r.defineComponent)({__name:"Basic",props:{rows:{}},setup(e){const t=(0,k.Pj)(),a=(0,v.s)(t),s=e;return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",f,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(s.rows,((e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:"entry"},[(0,r.createVNode)(m.A,{value:e.value,label:e.key,conceal:!0,"conceal-stand-alone":!0},null,8,["value","label"])])))),128)),e.rows.length?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",b,[(0,r.createElementVNode)("div",h,(0,r.toDisplayString)((0,r.unref)(a).t("sortableTable.noRows")),1)]))]))}});const w=y;var B=w;const g={class:"row secret-data-ssh"},_={class:"col span-6 username"},V={class:"col span-6 password"};var N=(0,r.defineComponent)({__name:"Ssh",props:{username:{},password:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",g,[(0,r.createElementVNode)("div",_,[(0,r.createVNode)(m.A,{value:t.username,"label-key":"secret.ssh.public"},null,8,["value"])]),(0,r.createElementVNode)("div",V,[(0,r.createVNode)(m.A,{value:t.password,"label-key":"secret.ssh.private",conceal:!0,"conceal-stand-alone":!0},null,8,["value"])])]))}});const A=N;var C=A;const D={class:"row secret-data-service-account-token"},E={class:"col span-6 crt"},P={class:"col span-6 token"};var S=(0,r.defineComponent)({__name:"ServiceAccountToken",props:{crt:{},token:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",D,[(0,r.createElementVNode)("div",E,[(0,r.createVNode)(m.A,{value:t.crt,"label-key":"secret.serviceAcct.ca"},null,8,["value"])]),(0,r.createElementVNode)("div",P,[(0,r.createVNode)(m.A,{value:t.token,"label-key":"secret.serviceAcct.token",conceal:!0,"conceal-stand-alone":!0},null,8,["value"])])]))}});const x=S;var L=x;const z={class:"row secret-data-certificate"},$={class:"col span-6 token"},H={class:"col span-6 crt"};var J=(0,r.defineComponent)({__name:"Certificate",props:{crt:{},token:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",z,[(0,r.createElementVNode)("div",$,[(0,r.createVNode)(m.A,{value:t.token,"label-key":"secret.certificate.privateKey",conceal:!0,"conceal-stand-alone":!0},null,8,["value"])]),(0,r.createElementVNode)("div",H,[(0,r.createVNode)(m.A,{value:t.crt,"label-key":"secret.certificate.certificate"},null,8,["value"])])]))}});const j=J;var I=j;const F={class:"row mt-20 secret-data-basic-auth"},M={class:"col span-6 username"},T={class:"col span-6 password"};var O=(0,r.defineComponent)({__name:"BasicAuth",props:{username:{},password:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",F,[(0,r.createElementVNode)("div",M,[(0,r.createVNode)(m.A,{value:t.username,"label-key":"secret.registry.username"},null,8,["value"])]),(0,r.createElementVNode)("div",T,[(0,r.createVNode)(m.A,{value:t.password,"label-key":"secret.registry.password",conceal:!0,"conceal-stand-alone":!0},null,8,["value"])])]))}});const R=O;var U=R;const q={class:"row secret-data-registry"},K={class:"col span-12 registry-url"};var Y=(0,r.defineComponent)({__name:"Registry",props:{registryUrl:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",q,[(0,r.createElementVNode)("div",K,[(0,r.createVNode)(m.A,{value:t.registryUrl,"label-key":"secret.registry.domainName"},null,8,["value"])])]))}});const W=Y;var G=W,Q=(0,r.defineComponent)({__name:"index",props:{tabLabel:{},secretData:{},weight:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createBlock)(p.A,{class:"secret-data-tab",name:"data",label:t.tabLabel,weight:t.weight},{default:(0,r.withCtx)((()=>[t.secretData.registry?((0,r.openBlock)(),(0,r.createBlock)(G,(0,r.normalizeProps)((0,r.mergeProps)({key:0},t.secretData.registry)),null,16)):(0,r.createCommentVNode)("",!0),t.secretData.basicAuth?((0,r.openBlock)(),(0,r.createBlock)(U,(0,r.normalizeProps)((0,r.mergeProps)({key:1},t.secretData.basicAuth)),null,16)):t.secretData.certificate?((0,r.openBlock)(),(0,r.createBlock)(I,(0,r.normalizeProps)((0,r.mergeProps)({key:2},t.secretData.certificate)),null,16)):(0,r.createCommentVNode)("",!0),t.secretData.serviceAccount?((0,r.openBlock)(),(0,r.createBlock)(L,(0,r.normalizeProps)((0,r.mergeProps)({key:3},t.secretData.serviceAccount)),null,16)):(0,r.createCommentVNode)("",!0),t.secretData.ssh?((0,r.openBlock)(),(0,r.createBlock)(C,(0,r.normalizeProps)((0,r.mergeProps)({key:4},t.secretData.ssh)),null,16)):(0,r.createCommentVNode)("",!0),t.secretData.basic?((0,r.openBlock)(),(0,r.createBlock)(B,(0,r.normalizeProps)((0,r.mergeProps)({key:5},t.secretData.basic)),null,16)):(0,r.createCommentVNode)("",!0)])),_:1},8,["label","weight"]))}}),X=(a(85362),a(47433));const Z=(0,X.A)(Q,[["__scopeId","data-v-70247290"]]);var ee=Z;const te={class:"row"},ae={class:"col span-12"};var re=(0,r.defineComponent)({__name:"index",props:{knownHosts:{},weight:{}},setup(e){return(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(p.A,{name:"known_hosts","label-key":"secret.ssh.knownHosts",weight:e.weight},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",te,[(0,r.createElementVNode)("div",ae,[(0,r.createVNode)(m.A,{value:e.knownHosts,"label-key":"secret.ssh.knownHosts",conceal:!1},null,8,["value"])])])])),_:1},8,["weight"]))}});const se=re;var oe=se,ce=a(4514),ne=a(17259);const le=e=>{const t=(0,r.toValue)(e);return(0,r.computed)((()=>{const e=t._type===ne.J.SSH,a=e&&t.supportsSshKnownHosts;if(!a)return;const{data:r={}}=t;return{knownHosts:r.known_hosts?(0,ce.u)(r.known_hosts):""}}))},ue=e=>(0,r.computed)((()=>{const t=(0,r.toValue)(e);return{secretType:t._type,secretData:t.data||{}}})),de=e=>(0,r.computed)((()=>{const t=(0,r.toValue)(e),a=[],{data:s={}}=t;return Object.keys(s).forEach((e=>{const t=(0,ce.u)(s[e]);a.push({key:e,value:t})})),a})),ie=e=>{const t=ue(e);return(0,r.computed)((()=>{const e=(0,ce.u)(t.value.secretData[".dockerconfigjson"]);return JSON.parse(e).auths}))},pe=e=>{const t=ie(e);return(0,r.computed)((()=>({registryUrl:Object.keys(t.value)[0]})))},me=e=>{const t=ie(e),a=pe(e);return(0,r.computed)((()=>({username:t.value[a.value.registryUrl].username,password:t.value[a.value.registryUrl].password})))},ve=e=>{const t=de(e),a=ue(e);return(0,r.computed)((()=>({username:(0,ce.u)(a.value.secretData.username||""),password:(0,ce.u)(a.value.secretData.password||""),rows:t.value})))},ke=e=>{const t=ue(e);return(0,r.computed)((()=>({username:(0,ce.u)(t.value.secretData["ssh-publickey"]||""),password:(0,ce.u)(t.value.secretData["ssh-privatekey"]||"")})))},fe=e=>{const t=ue(e);return(0,r.computed)((()=>({token:(0,ce.u)(t.value.secretData["token"]),crt:(0,ce.u)(t.value.secretData["ca.crt"])})))},be=e=>{const t=ue(e);return(0,r.computed)((()=>({token:(0,ce.u)(t.value.secretData["tls.key"]),crt:(0,ce.u)(t.value.secretData["tls.crt"])})))},he=e=>{const t=(0,k.Pj)(),a=(0,v.s)(t),s=ue(e);return(0,r.computed)((()=>{switch(s.value.secretType){case ne.J.DOCKER_JSON:return{tabLabel:a.t("secret.data"),secretData:{registry:pe(e).value,basicAuth:me(e).value}};case ne.J.TLS:return{tabLabel:a.t("secret.certificate.certificate"),secretData:{certificate:be(e).value}};case ne.J.SERVICE_ACCT:return{tabLabel:a.t("secret.data"),secretData:{serviceAccount:fe(e).value}};case ne.J.SSH:return{tabLabel:a.t("secret.ssh.keys"),secretData:{ssh:ke(e).value}};case ne.J.BASIC:return{tabLabel:a.t("secret.data"),secretData:{basicAuth:ve(e).value}};default:return{tabLabel:a.t("secret.data"),secretData:{basic:ve(e).value}}}}))};var ye=a(50960),we=(0,r.defineComponent)({__name:"secret",async setup(e){let t,a;const{id:p,schema:m}=(0,d.Y)(u.bB),v=([t,a]=(0,r.withAsyncContext)((()=>(0,d.F)(u.bB,p))),t=await t,a(),t),k=(0,c.I)(v),f=(0,ye._F)(v),b=(0,l.qr)(v,f),h=le(v),y=he(v);return(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(s.A,null,{"top-area":(0,r.withCtx)((()=>[(0,r.createVNode)(o.A,(0,r.normalizeProps)((0,r.guardReactiveProps)((0,r.unref)(k))),null,16),(0,r.createVNode)(n.A,(0,r.mergeProps)({class:"mmt-6"},(0,r.unref)(b)),null,16)])),"bottom-area":(0,r.withCtx)((()=>[(0,r.createVNode)(i.A,{value:(0,r.unref)(v),schema:(0,r.unref)(m)},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(ee,(0,r.mergeProps)((0,r.unref)(y),{weight:1}),null,16),(0,r.unref)(h)?((0,r.openBlock)(),(0,r.createBlock)(oe,(0,r.mergeProps)({key:0},(0,r.unref)(h),{weight:0}),null,16)):(0,r.createCommentVNode)("",!0)])),_:1},8,["value","schema"])])),_:1}))}});const Be=we;var ge=Be},48699:function(e,t,a){"use strict";a.r(t);var r=a(36758),s=a.n(r),o=a(40935),c=a.n(o),n=c()(s());n.push([e.id,".resource-detail-page[data-v-813e316a]{padding:24px}.resource-detail-page[data-v-813e316a]  .tabs.horizontal{border:none}.resource-detail-page[data-v-813e316a]  .tabs.horizontal+.tab-container{border:none;border-top:1px solid var(--border);padding:0;padding-top:24px}",""]),t["default"]=n},87090:function(e,t,a){"use strict";a.r(t);var r=a(36758),s=a.n(r),o=a(40935),c=a.n(o),n=c()(s());n.push([e.id,".secret-data-tab[data-v-70247290]  .entry:not(:first-of-type){margin-top:16px}",""]),t["default"]=n},49627:function(e,t,a){var r=a(48699);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var s=a(74825).A;s("e43bbd10",r,!0,{sourceMap:!1,shadowMode:!1})},85362:function(e,t,a){var r=a(87090);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var s=a(74825).A;s("430afe2a",r,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=harvester-1.6.0-rc2.umd.min.25.js.map